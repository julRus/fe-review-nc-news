{"ast":null,"code":"import _classCallCheck from\"/home/julia/northcoders/FRONTEND/fe-review-nc-news/nc-news/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/julia/northcoders/FRONTEND/fe-review-nc-news/nc-news/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/julia/northcoders/FRONTEND/fe-review-nc-news/nc-news/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/julia/northcoders/FRONTEND/fe-review-nc-news/nc-news/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/julia/northcoders/FRONTEND/fe-review-nc-news/nc-news/node_modules/@babel/runtime/helpers/esm/inherits\";import React from\"react\";import*as api from\"../../api\";var VotesIncrementer=/*#__PURE__*/function(_React$Component){_inherits(VotesIncrementer,_React$Component);function VotesIncrementer(){var _getPrototypeOf2;var _this;_classCallCheck(this,VotesIncrementer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(VotesIncrementer)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={hasVotedUp:false,txt:\"VOTE üëç\"};return _this;}_createClass(VotesIncrementer,[{key:\"render\",value:function render(){var _this2=this;return React.createElement(React.Fragment,null,React.createElement(\"button\",{onClick:function onClick(){return _this2.incrementVotes(_this2.props);},className:\"article_votes_button\"},React.createElement(\"span\",{role:\"img\",\"aria-label\":\"thumbsUp\"},this.state.txt)));}},{key:\"incrementVotes\",value:function incrementVotes(prop){var _this3=this;console.log(prop.commentId);if(this.state.hasVotedUp===false){if(prop.name===\"articleVoter\"){prop.displayVote(prop.commentId,1,\"voteChangeArticle\");api.patchArticleVotes(prop.id,1).then(function(article){// need to set the state in Article.jsx to the returned article and display the result\n_this3.setState({hasVotedUp:true,txt:\"UNVOTE üëé\"});});}else if(prop.name===\"comments\"){prop.displayVote(prop.commentId,1,\"voteChangeComment\");api.patchArticleVotes(prop.id,1,prop.name,prop.commentId).then(function(article){// need to set the state in Article.jsx to the returned article and display the result\n_this3.setState({hasVotedUp:true,txt:\"UNVOTE üëé\"});});}}else{if(prop.name===\"articleVoter\"){prop.displayVote(prop.commentId,0,\"voteChangeArticle\");api.patchArticleVotes(prop.id,-1).then(function(article){_this3.setState({hasVotedUp:false,txt:\"VOTE üëç\"});});}else if(prop.name===\"comments\"){prop.displayVote(prop.commentId,-1,\"voteChangeComment\");api.patchArticleVotes(prop.id,-1,prop.name,prop.commentId).then(function(article){// need to set the state in Article.jsx to the returned article and display the result\n_this3.setState({hasVotedUp:false,txt:\"VOTE üëç\"});});}}}}]);return VotesIncrementer;}(React.Component);export{VotesIncrementer as default};","map":{"version":3,"sources":["/home/julia/northcoders/FRONTEND/fe-review-nc-news/nc-news/src/components/subComponents/VotesIncrementer.jsx"],"names":["React","api","VotesIncrementer","state","hasVotedUp","txt","incrementVotes","props","prop","console","log","commentId","name","displayVote","patchArticleVotes","id","then","article","setState","Component"],"mappings":"+sBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,GAAKC,CAAAA,GAAZ,KAAqB,WAArB,C,GAEqBC,CAAAA,gB,mbACnBC,K,CAAQ,CACNC,UAAU,CAAE,KADN,CAENC,GAAG,CAAE,SAFC,C,mFAIC,iBACP,MACE,yCACE,8BACE,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACC,cAAL,CAAoB,MAAI,CAACC,KAAzB,CAAN,EADX,CAEE,SAAS,CAAC,sBAFZ,EAIE,4BAAM,IAAI,CAAC,KAAX,CAAiB,aAAW,UAA5B,EACG,KAAKJ,KAAL,CAAWE,GADd,CAJF,CADF,CADF,CAYD,C,sDAEcG,I,CAAM,iBACnBC,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,SAAjB,EACA,GAAI,KAAKR,KAAL,CAAWC,UAAX,GAA0B,KAA9B,CAAqC,CACnC,GAAII,IAAI,CAACI,IAAL,GAAc,cAAlB,CAAkC,CAChCJ,IAAI,CAACK,WAAL,CAAiBL,IAAI,CAACG,SAAtB,CAAiC,CAAjC,CAAoC,mBAApC,EACAV,GAAG,CAACa,iBAAJ,CAAsBN,IAAI,CAACO,EAA3B,CAA+B,CAA/B,EAAkCC,IAAlC,CAAuC,SAAAC,OAAO,CAAI,CAChD;AACA,MAAI,CAACC,QAAL,CAAc,CAAEd,UAAU,CAAE,IAAd,CAAoBC,GAAG,CAAE,WAAzB,CAAd,EACD,CAHD,EAID,CAND,IAMO,IAAIG,IAAI,CAACI,IAAL,GAAc,UAAlB,CAA8B,CACnCJ,IAAI,CAACK,WAAL,CAAiBL,IAAI,CAACG,SAAtB,CAAiC,CAAjC,CAAoC,mBAApC,EACAV,GAAG,CACAa,iBADH,CACqBN,IAAI,CAACO,EAD1B,CAC8B,CAD9B,CACiCP,IAAI,CAACI,IADtC,CAC4CJ,IAAI,CAACG,SADjD,EAEGK,IAFH,CAEQ,SAAAC,OAAO,CAAI,CACf;AACA,MAAI,CAACC,QAAL,CAAc,CAAEd,UAAU,CAAE,IAAd,CAAoBC,GAAG,CAAE,WAAzB,CAAd,EACD,CALH,EAMD,CACF,CAhBD,IAgBO,CACL,GAAIG,IAAI,CAACI,IAAL,GAAc,cAAlB,CAAkC,CAChCJ,IAAI,CAACK,WAAL,CAAiBL,IAAI,CAACG,SAAtB,CAAiC,CAAjC,CAAoC,mBAApC,EACAV,GAAG,CAACa,iBAAJ,CAAsBN,IAAI,CAACO,EAA3B,CAA+B,CAAC,CAAhC,EAAmCC,IAAnC,CAAwC,SAAAC,OAAO,CAAI,CACjD,MAAI,CAACC,QAAL,CAAc,CAAEd,UAAU,CAAE,KAAd,CAAqBC,GAAG,CAAE,SAA1B,CAAd,EACD,CAFD,EAGD,CALD,IAKO,IAAIG,IAAI,CAACI,IAAL,GAAc,UAAlB,CAA8B,CACnCJ,IAAI,CAACK,WAAL,CAAiBL,IAAI,CAACG,SAAtB,CAAiC,CAAC,CAAlC,CAAqC,mBAArC,EACAV,GAAG,CACAa,iBADH,CACqBN,IAAI,CAACO,EAD1B,CAC8B,CAAC,CAD/B,CACkCP,IAAI,CAACI,IADvC,CAC6CJ,IAAI,CAACG,SADlD,EAEGK,IAFH,CAEQ,SAAAC,OAAO,CAAI,CACf;AACA,MAAI,CAACC,QAAL,CAAc,CAAEd,UAAU,CAAE,KAAd,CAAqBC,GAAG,CAAE,SAA1B,CAAd,EACD,CALH,EAMD,CACF,CACF,C,8BAtD2CL,KAAK,CAACmB,S,SAA/BjB,gB","sourcesContent":["import React from \"react\";\nimport * as api from \"../../api\";\n\nexport default class VotesIncrementer extends React.Component {\n  state = {\n    hasVotedUp: false,\n    txt: \"VOTE üëç\"\n  };\n  render() {\n    return (\n      <>\n        <button\n          onClick={() => this.incrementVotes(this.props)}\n          className=\"article_votes_button\"\n        >\n          <span role=\"img\" aria-label=\"thumbsUp\">\n            {this.state.txt}\n          </span>\n        </button>\n      </>\n    );\n  }\n\n  incrementVotes(prop) {\n    console.log(prop.commentId);\n    if (this.state.hasVotedUp === false) {\n      if (prop.name === \"articleVoter\") {\n        prop.displayVote(prop.commentId, 1, \"voteChangeArticle\");\n        api.patchArticleVotes(prop.id, 1).then(article => {\n          // need to set the state in Article.jsx to the returned article and display the result\n          this.setState({ hasVotedUp: true, txt: \"UNVOTE üëé\" });\n        });\n      } else if (prop.name === \"comments\") {\n        prop.displayVote(prop.commentId, 1, \"voteChangeComment\");\n        api\n          .patchArticleVotes(prop.id, 1, prop.name, prop.commentId)\n          .then(article => {\n            // need to set the state in Article.jsx to the returned article and display the result\n            this.setState({ hasVotedUp: true, txt: \"UNVOTE üëé\" });\n          });\n      }\n    } else {\n      if (prop.name === \"articleVoter\") {\n        prop.displayVote(prop.commentId, 0, \"voteChangeArticle\");\n        api.patchArticleVotes(prop.id, -1).then(article => {\n          this.setState({ hasVotedUp: false, txt: \"VOTE üëç\" });\n        });\n      } else if (prop.name === \"comments\") {\n        prop.displayVote(prop.commentId, -1, \"voteChangeComment\");\n        api\n          .patchArticleVotes(prop.id, -1, prop.name, prop.commentId)\n          .then(article => {\n            // need to set the state in Article.jsx to the returned article and display the result\n            this.setState({ hasVotedUp: false, txt: \"VOTE üëç\" });\n          });\n      }\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}